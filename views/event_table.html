<div class="container">
  <div>
    <div class="columns is-mobile has-text-weight-bold">
      <div class="column">Status</div>
      <div class="column">Type</div>
      <div class="column">Created At</div>
      <div class="column">Details</div>
    </div>
    {{range .events}}
    <div class="columns is-mobile">
      <div class="column">
        {{if .Status}} <sl-badge variant="success">Success</sl-badge> {{else}}
        <sl-badge variant="danger">Fail</sl-badge> {{end}}
      </div>
      <div class="column">{{.EventType}}</div>
      <div class="column">{{.CreatedAt | formatDateTime}}</div>
      <div class="column">
        <sl-button onclick="dialog.show()" hx-get="/event_details/{{.ID}}" hx-target="#payload" hx-trigger="click">Show Details</sl-button>
      </div>
      <sl-dialog label="Details" class="dialog-overview" style="--width: 50vw;">
        <div id="payload"></div>
        <sl-button slot="footer" variant="primary"  onclick="dialog.hide()">Close</sl-button>
      </sl-dialog>
    </div>
    {{end}}
  </div>
</div>

<script>
  const dialog = document.querySelector('.dialog-overview');
</script>

